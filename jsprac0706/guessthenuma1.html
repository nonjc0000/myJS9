<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <h2>猜數字</h2>
    <p id="result"></p>

    <!-- 使用輸入視窗 -->
    <script>
        // 取得亂數值
        let rd = Math.floor(Math.random() * 100) + 1;
        // let rd = 88; /* 可以先測試 */
        let min = 1;
        let max = 100;
        // 起始值先設，太大太小再改變

        let count = 0; /* 存放執行次數 */
        let strMsg = ""; /* 存放每次執行後的訊息 */
        let str1 = ""; /* 存放當前執行後的訊息 */

        while (1) {
            count++; /* 迴圈一進來就+1 */

            let keyNum = prompt(`請輸入任意數：${min}-${max}`); /* 確認是否按取消或按空字串之後才能轉型別 */

            if (keyNum == null) {
                alert("您放棄猜數字，即將結束");
                break;
            }

            if (keyNum.trim() == "") {
                alert("不能空白，請重新輸入");
                continue;
            }

            // 有資料時的處理
            keyNum = parseInt(keyNum); /* parseInt會轉換成無條件捨去的整數 */
            keyNum = Number(keyNum); /* Number會保留小數點 */

            if (isNaN(keyNum)) {
                alert("非數字，請重新輸入");
                continue;
            }

            // 是否有效範圍
            if (keyNum <= 0 || keyNum > 100) {
                alert("有效範圍錯誤 => 1-100")
                continue;
            }


            if (keyNum === rd) {
                str1 = `第${count}次，bingo，恭喜猜對了`;
                alert(str1);
                strMsg = strMsg + str1 /* strMsg += str1; */
                break;
            }

            // 不是大於、不是等於就是小於
            if (keyNum > rd) {
                max = keyNum;
                str1 = `第${count}次，太大了，提示「${min}-${max}」`;
                strMsg += str1 + "<br>";
            } else {
                min = keyNum;
                str1 = `第${count}次，太小了，提示「${min}-${max}」`;
                strMsg += str1 + "<br>";
            }
            // 沒有判斷了所以可以不用加continue
        }
        // document.write(strMsg);
        // let result = document.getElementById("result");
        // result.innerHTML = strMsg;

        document.getElementById("result").innerHTML = strMsg

    </script>
</body>

</html>